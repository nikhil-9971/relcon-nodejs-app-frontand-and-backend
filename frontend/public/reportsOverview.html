<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Reports Overview</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      body {
        font-family: "Poppins", sans-serif;
        background: #f3f4f6;
      }
      .card:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
      }
      .cards-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 16px;
      }
    </style>
  </head>
  <body class="p-6">
    <div class="max-w-6xl mx-auto">
      <div class="mb-6 flex items-center justify-between">
        <h1 class="text-2xl font-semibold">ðŸ“‚ Reports</h1>
        <div>
          <input
            id="reportsSearch"
            type="search"
            placeholder="ðŸ”Ž Search reports..."
            class="border rounded px-3 py-2 w-64"
            oninput="filterCards()"
          />
        </div>
      </div>

      <div id="cardsContainer" class="cards-grid">
        <!-- Cards: keep order same as sidebar, id used to map to pages -->
        <div
          class="card bg-white rounded border p-4 cursor-pointer"
          data-key="visit"
          onclick="openReport('dataView.html')"
        >
          <div class="text-lg font-semibold">Visit Report</div>
          <div class="text-sm text-gray-500 mt-2">
            Visit history & visit-level exports
          </div>
        </div>

        <div
          class="card bg-white rounded border p-4 cursor-pointer"
          data-key="hpcl"
          onclick="openReport('statusRecords.html')"
        >
          <div class="text-lg font-semibold">HPCL Status Report</div>
          <div class="text-sm text-gray-500 mt-2">
            Status records for HPCL sites
          </div>
        </div>

        <div
          class="card bg-white rounded border p-4 cursor-pointer"
          data-key="bpcl-visit"
          onclick="openReport('bpclVisitReport.html')"
        >
          <div class="text-lg font-semibold">BPCL Visit Report</div>
          <div class="text-sm text-gray-500 mt-2">BPCL visit details</div>
        </div>

        <div
          class="card bg-white rounded border p-4 cursor-pointer"
          data-key="jio-bp"
          onclick="openReport('jioBPreport.html')"
        >
          <div class="text-lg font-semibold">Jio BP Status Report</div>
          <div class="text-sm text-gray-500 mt-2">
            Jio BP records, export & verify
          </div>
        </div>

        <div
          class="card bg-white rounded border p-4 cursor-pointer"
          data-key="bpcl-status"
          onclick="openReport('bpclStatusreport.html')"
        >
          <div class="text-lg font-semibold">BPCL Status Report</div>
          <div class="text-sm text-gray-500 mt-2">
            BPCL Status (IOT classes, SIM, ATG)
          </div>
        </div>

        <div
          class="card bg-white rounded border p-4 cursor-pointer"
          data-key="atg"
          onclick="openReport('atgRecords.html')"
        >
          <div class="text-lg font-semibold">ATG Report</div>
          <div class="text-sm text-gray-500 mt-2">ATG record exports</div>
        </div>

        <div
          class="card bg-white rounded border p-4 cursor-pointer"
          data-key="task"
          onclick="openReport('taskReport.html')"
        >
          <div class="text-lg font-semibold">Task Report</div>
          <div class="text-sm text-gray-500 mt-2">Task-based reports</div>
        </div>

        <div
          class="card bg-white rounded border p-4 cursor-pointer"
          data-key="earthing"
          onclick="openReport('earthingReport.html')"
        >
          <div class="text-lg font-semibold">Earthing Status Report</div>
          <div class="text-sm text-gray-500 mt-2">
            Earthing & related checks
          </div>
        </div>
      </div>

      <div class="mt-6 text-sm text-gray-500">
        Tip: Click on any card to open the report. Use the search box to quickly
        find a report.
      </div>
    </div>

    <script>
      function openReport(page) {
        // parent.loadPage exists in dashboard; call it to change iframe src
        try {
          if (window.parent && typeof window.parent.loadPage === "function") {
            window.parent.loadPage(page);
          } else {
            // fallback: replace top location
            window.top.location.href = page;
          }
        } catch (e) {
          console.error(e);
          window.top.location.href = page;
        }
      }

      function filterCards() {
        const q = (document.getElementById("reportsSearch").value || "")
          .toLowerCase()
          .trim();
        const cards = Array.from(
          document.querySelectorAll("#cardsContainer .card")
        );
        cards.forEach((c) => {
          const txt = (c.innerText || "").toLowerCase();
          c.style.display = q === "" || txt.includes(q) ? "" : "none";
        });
      }
    </script>
  </body>
</html>
